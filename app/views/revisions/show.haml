:css
  .diff{overflow:auto;}
  .diff ul{background:#fff;overflow:auto;font-size:13px;list-style:none;margin:0;padding:0;display:table;width:100%;}
  .diff del, .diff ins{display:block;text-decoration:none;}
  .diff li{padding:0; display:table-row;margin: 0;}
  .diff li.ins{background:#9f9;}
  .diff li.del{background:#ccf;}
  .diff li:hover{background:#ffc}
  .diff del, .diff ins, .diff span{white-space:pre;font-family:courier;}
%dl
  %dt Revision Number
  %dd= @revision.number
  %dt Tag
  %dd= @revision.tag  || "No tag defined"
  %dt Date
  %dd= @revision.created_at
- require 'htmldiff'
- extend HTMLDiff
- before = @revision.changes["body"].first
- after = @revision.changes["body"].last
= diff(before, after)
